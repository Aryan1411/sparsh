<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dr. Sparsh Gupta ‚Äî Neurosurgeon | Portfolio & Appointments</title>
  <meta name="description" content="Official portfolio of Dr. Sparsh Gupta, MD (Medicine), Neurosurgeon. Explore expertise, experience, testimonials, and book an appointment." />
  <link rel="canonical" href="https://example.com/" />
  <meta name="theme-color" content="#7c3aed" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0b1220" media="(prefers-color-scheme: dark)">
  <style>
    :root {
      --bg: #f9fafb;
      --card: #ffffffcc;
      --elev: #ffffff;
      --text: #0b1220;
      --muted: #55607a;
      --line: #e5e7eb;
      --shadow: 0 8px 30px rgba(16,24,40,.08);
      --radius: 14px;

      /* Vibrant multi-stop gradient (animated) */
      --g1: #7c3aed; /* violet */
      --g2: #06b6d4; /* cyan */
      --g3: #f59e0b; /* amber */
      --g4: #ef4444; /* red */
      --g5: #22c55e; /* green */

      --accent: #7c3aed;
      --accent-2: #06b6d4;
      --accent-3: #f59e0b;

      --btn-text: #ffffff;
    }
    html[data-theme="dark"] {
      --bg: #0b1220;
      --card: #0f172acc;
      --elev: #0f172a;
      --text: #f8fafc;
      --muted: #a8b3cf;
      --line: #1f2937;
      --shadow: 0 12px 40px rgba(0,0,0,.35);
      --btn-text: #ffffff;
    }

    /* Accent palette variants (vibrancy control) */
    html[data-accent="violet-cyan-amber"] {
      --g1:#7c3aed; --g2:#06b6d4; --g3:#f59e0b; --accent:#7c3aed; --accent-2:#06b6d4; --accent-3:#f59e0b;
    }
    html[data-accent="blue-fuchsia-lime"] {
      --g1:#2563eb; --g2:#d946ef; --g3:#84cc16; --accent:#2563eb; --accent-2:#d946ef; --accent-3:#84cc16;
    }
    html[data-accent="cyan-indigo-rose"] {
      --g1:#06b6d4; --g2:#4338ca; --g3:#fb7185; --accent:#06b6d4; --accent-2:#4338ca; --accent-3:#fb7185;
    }
    html[data-accent="amber-teal-violet"] {
      --g1:#f59e0b; --g2:#14b8a6; --g3:#7c3aed; --accent:#f59e0b; --accent-2:#14b8a6; --accent-3:#7c3aed;
    }
    html[data-accent="pink-sky-emerald"] {
      --g1:#ec4899; --g2:#38bdf8; --g3:#10b981; --accent:#ec4899; --accent-2:#38bdf8; --accent-3:#10b981;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--g1) 22%, transparent) 0%, transparent 60%),
        radial-gradient(1200px 600px at 110% 10%, color-mix(in oklab, var(--g2) 20%, transparent) 0%, transparent 60%),
        radial-gradient(1200px 600px at -10% 100%, color-mix(in oklab, var(--g3) 18%, transparent) 0%, transparent 60%),
        var(--bg);
      line-height: 1.55;
      scroll-behavior: smooth;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    img { max-width: 100%; display: block; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

    /* Header */
    header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: saturate(140%) blur(8px);
      background: color-mix(in oklab, var(--elev) 86%, transparent);
      border-bottom: 1px solid var(--line);
    }
    .nav {
      display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 12px;
      min-height: 64px;
    }
    .brand {
      display: flex; align-items: center; gap: 12px; font-weight: 800; letter-spacing: .2px;
    }
    .logo {
      width: 36px; height: 36px; border-radius: 50%;
      background: conic-gradient(from 0deg, var(--g1), var(--g2), var(--g3), var(--g1));
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 26%, transparent), inset 0 2px 10px rgba(255,255,255,.2);
    }
    nav ul { display: flex; gap: 20px; list-style: none; padding: 0; margin: 0; justify-content: center; }
    nav a { color: var(--text); font-weight: 600; opacity: .85; }
    nav a:hover { opacity: 1; text-decoration: none; }
    .actions {
      display: flex; justify-content: flex-end; gap: 8px; align-items: center;
    }
    .icon-btn {
      border: 1px solid var(--line); background: color-mix(in oklab, var(--elev) 95%, transparent);
      color: var(--text); padding: 8px 10px; border-radius: 10px; cursor: pointer;
    }
    .icon-btn:focus-visible { outline: 3px solid color-mix(in oklab, var(--accent) 40%, transparent); outline-offset: 2px; }
    .menu-btn { display: none; }

    /* Hero */
    .hero {
      position: relative;
      overflow: clip;
      padding: 48px 0 28px;
      background:
        radial-gradient(1200px 500px at 50% -20%, color-mix(in oklab, var(--g1) 24%, transparent) 0%, transparent 65%),
        radial-gradient(1000px 500px at 80% -10%, color-mix(in oklab, var(--g2) 24%, transparent) 0%, transparent 65%),
        linear-gradient(180deg, color-mix(in oklab, var(--elev) 86%, transparent), transparent);
      border-bottom: 1px solid var(--line);
    }
    .hero-inner {
      display: grid; grid-template-columns: 1.2fr .8fr; gap: 28px; align-items: center;
    }
    .eyebrow {
      display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px;
      border: 1px solid color-mix(in oklab, var(--accent) 35%, var(--line));
      background: linear-gradient(120deg, color-mix(in oklab, var(--g1) 15%, transparent), color-mix(in oklab, var(--g2) 15%, transparent));
      color: var(--text); font-weight: 700; letter-spacing: .3px;
    }
    .title {
      font-size: clamp(28px, 5vw, 46px);
      font-weight: 900; line-height: 1.08; margin: 12px 0;
      background: linear-gradient(100deg, var(--g1), var(--g2), var(--g3));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 4px 14px color-mix(in oklab, var(--g2) 35%, transparent));
    }
    .lead { font-size: clamp(16px, 2.4vw, 18px); color: var(--muted); max-width: 60ch; }

    .cta {
      display: flex; flex-wrap: wrap; gap: 12px; margin-top: 18px;
    }
    .btn {
      --bg-grad: linear-gradient(135deg, var(--g1), var(--g2) 60%, var(--g3));
      border: 0; color: var(--btn-text); font-weight: 800;
      padding: 12px 16px; border-radius: 12px; cursor: pointer;
      background: var(--bg-grad);
      box-shadow: 0 12px 30px color-mix(in oklab, var(--accent) 35%, transparent);
    }
    .btn:hover { filter: saturate(110%) brightness(1.02); transform: translateY(-1px); }
    .btn:active { transform: translateY(0); }
    .btn.outline {
      background: color-mix(in oklab, var(--elev) 92%, transparent);
      color: var(--text); border: 2px solid color-mix(in oklab, var(--accent) 45%, var(--line));
      box-shadow: none;
    }
    .quick {
      display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px; margin-top: 12px;
    }
    .quick a {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 10px 12px; border-radius: 10px;
      background: color-mix(in oklab, var(--elev) 92%, transparent);
      border: 1px solid var(--line);
      color: var(--text); font-weight: 700; justify-content: center;
    }

    .hero-card {
      border-radius: var(--radius);
      border: 1px solid color-mix(in oklab, var(--accent) 30%, var(--line));
      background:
        linear-gradient(180deg, color-mix(in oklab, var(--elev) 86%, transparent), transparent),
        radial-gradient(400px 200px at 100% 0%, color-mix(in oklab, var(--g2) 10%, transparent), transparent),
        radial-gradient(400px 200px at 0% 100%, color-mix(in oklab, var(--g3) 10%, transparent), transparent),
        color-mix(in oklab, var(--elev) 96%, transparent);
      padding: 18px; box-shadow: var(--shadow);
    }
    .hero-card h3 { margin: 6px 0 8px; }
    .badges { display: flex; flex-wrap: wrap; gap: 10px; }
    .chip {
      padding: 8px 12px; border-radius: 999px; font-weight: 700; color: var(--text);
      background: color-mix(in oklab, var(--elev) 92%, transparent);
      border: 1px solid color-mix(in oklab, var(--accent) 40%, var(--line));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
    }

    /* Sections */
    section { padding: 56px 0; }
    .section-title {
      display: inline-flex; align-items: center; gap: 10px; font-size: 22px; font-weight: 900;
      padding-bottom: 10px; border-bottom: 3px solid color-mix(in oklab, var(--accent) 65%, var(--line));
      margin-bottom: 20px;
      background: linear-gradient(90deg, var(--g1), var(--g2), var(--g3));
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
    .grid {
      display: grid; gap: 16px;
      grid-template-columns: repeat(12, minmax(0, 1fr));
    }
    .card {
      grid-column: span 4;
      background: color-mix(in oklab, var(--elev) 96%, transparent);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 16px; box-shadow: var(--shadow);
      position: relative; overflow: hidden;
    }
    .card::after {
      content: ""; position: absolute; inset: -1px; border-radius: inherit;
      background: linear-gradient(135deg, color-mix(in oklab, var(--g1) 28%, transparent), transparent 40%, color-mix(in oklab, var(--g3) 28%, transparent));
      filter: blur(20px); opacity: .25; pointer-events: none;
    }

    /* Timeline */
    .timeline { border-left: 3px solid color-mix(in oklab, var(--accent) 50%, var(--line)); margin-left: 6px; padding-left: 16px; }
    .t-item { margin: 10px 0 12px; position: relative; }
    .t-item::before {
      content: ""; position: absolute; left: -25px; top: 5px; width: 12px; height: 12px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff8, transparent 60%), linear-gradient(135deg, var(--g1), var(--g2));
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent);
    }

    /* Testimonials */
    .testimonial-wrap {
      display: grid; grid-template-columns: 1fr; gap: 14px;
    }
    .testimonial {
      background: color-mix(in oklab, var(--elev) 96%, transparent);
      border: 1px solid var(--line); border-radius: var(--radius);
      padding: 16px; box-shadow: var(--shadow);
      min-height: 150px;
    }
    .t-controls { display: flex; gap: 8px; align-items: center; }
    .t-controls button {
      border: 1px solid var(--line); background: color-mix(in oklab, var(--elev) 95%, transparent);
      padding: 8px 12px; border-radius: 10px; cursor: pointer;
    }

    /* Contact */
    form {
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
      background: color-mix(in oklab, var(--elev) 96%, transparent);
      border: 1px solid var(--line); border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow);
    }
    label { font-weight: 700; font-size: 14px; color: var(--muted); }
    input, textarea {
      width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--line);
      background: color-mix(in oklab, var(--elev) 98%, transparent);
      color: var(--text);
    }
    textarea { grid-column: span 2; min-height: 110px; }
    .form-actions { grid-column: span 2; display: flex; gap: 10px; flex-wrap: wrap; }

    /* Footer */
    footer {
      border-top: 1px solid var(--line);
      background: color-mix(in oklab, var(--elev) 92%, transparent);
      padding: 18px 0;
    }
    .footer-inner { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; justify-content: space-between; }
    .foot-nav { display: flex; gap: 12px; flex-wrap: wrap; }

    /* Reveal animations */
    .reveal { opacity: 0; transform: translateY(16px) scale(.98); transition: all .6s cubic-bezier(.2,.7,.2,1); }
    .reveal-visible { opacity: 1; transform: none; }

    /* Utilities */
    .muted { color: var(--muted); }
    .nowrap { white-space: nowrap; }

    /* Responsive */
    @media (max-width: 900px) {
      .hero-inner { grid-template-columns: 1fr; }
      .card { grid-column: span 6; }
      .quick { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 640px) {
      nav { display: none; }
      .menu-btn { display: inline-flex; }
      .mobile-menu {
        display: none; position: fixed; inset: 64px 12px auto 12px; z-index: 60;
        background: color-mix(in oklab, var(--elev) 96%, transparent);
        border: 1px solid var(--line); border-radius: 12px; padding: 12px; box-shadow: var(--shadow);
      }
      .mobile-menu a { display: block; padding: 10px 8px; border-radius: 8px; color: var(--text); }
      .card { grid-column: span 12; }
      form { grid-template-columns: 1fr; }
      textarea, .form-actions { grid-column: span 1; }
    }

    /* Print */
    @media print {
      header, .cta, .quick, .t-controls, .form-actions, .actions { display: none !important; }
      body { background: white; }
      .card, .hero-card, form { box-shadow: none; border: 1px solid #ccc; }
    }
  </style>
</head>
<body>
  <a href="#main" class="visually-hidden">Skip to content</a>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div style="font-size:16px; line-height:1; font-weight:900;">Dr. Sparsh Gupta</div>
          <div class="muted" style="font-size:12px; line-height:1;">MD (Medicine) ‚Äî Neurosurgeon</div>
        </div>
      </div>
      <nav aria-label="Primary">
        <ul>
          <li><a href="#about">Overview</a></li>
          <li><a href="#expertise">Expertise</a></li>
          <li><a href="#experience">Experience</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <div class="actions">
        <button class="icon-btn" id="accentBtn" title="Cycle accent palette" aria-label="Cycle accent palette">üé®</button>
        <button class="icon-btn" id="themeBtn" title="Toggle theme" aria-label="Toggle light/dark">üåô</button>
        <button class="icon-btn menu-btn" id="menuBtn" aria-expanded="false" aria-controls="mobileMenu">‚ò∞</button>
      </div>
    </div>
    <div id="mobileMenu" class="mobile-menu" role="dialog" aria-label="Mobile menu">
      <a href="#about">Overview</a>
      <a href="#expertise">Expertise</a>
      <a href="#experience">Experience</a>
      <a href="#testimonials">Testimonials</a>
      <a href="#contact">Contact</a>
    </div>
  </header>

  <main id="main">
    <section class="hero">
      <div class="container hero-inner">
        <div>
          <span class="eyebrow">Trusted Neurosurgical Care</span>
          <h1 class="title">Precision, compassion, and a vibrant path to recovery.</h1>
          <p class="lead">
            I‚Äôm Dr. Sparsh Gupta, a Neurosurgeon with 5 years of clinical experience in brain and spine care ‚Äî
            specializing in minimally invasive neurosurgery, neuro-oncology, and spine disorders.
          </p>
          <div class="cta">
            <a class="btn" href="#contact">Book Appointment</a>
            <a class="btn outline" href="tel:+1-000-000-0000">Call Clinic</a>
            <button class="btn outline" id="printBtn" type="button">Print Summary</button>
          </div>
          <div class="quick">
            <a href="#expertise" aria-label="View clinical services">Services</a>
            <a href="#experience" aria-label="View experience timeline">Experience</a>
            <button class="icon-btn" id="vcardBtn" type="button" aria-label="Save vCard">Save vCard</button>
          </div>
        </div>
        <aside class="hero-card reveal" style="--delay: .1s;">
          <h3>Clinic Highlights</h3>
          <ul class="muted" style="margin: 0 0 10px 18px;">
            <li>Minimally invasive brain & spine surgery</li>
            <li>Advanced neuro-navigation & intra-op monitoring</li>
            <li>Multidisciplinary tumor board reviews</li>
          </ul>
          <div class="badges" aria-label="Clinical interests">
            <span class="chip">Neuro-oncology</span>
            <span class="chip">Spine disorders</span>
            <span class="chip">Trauma care</span>
            <span class="chip">Functional neurosurgery</span>
          </div>
        </aside>
      </div>
    </section>

    <section id="about" class="reveal">
      <div class="container">
        <h2 class="section-title">Professional Overview</h2>
        <p class="muted">
          I provide evidence‚Äëbased neurosurgical care with an emphasis on patient education, safety, and rapid recovery.
          Beyond the operating room, I collaborate closely with neurology, oncology, and rehabilitation teams to
          deliver holistic outcomes.
        </p>
      </div>
    </section>

    <section id="expertise" class="reveal">
      <div class="container">
        <h2 class="section-title">Clinical Expertise & Services</h2>
        <div class="grid">
          <div class="card">
            <h3>Brain Tumors</h3>
            <p class="muted">Microsurgical resections, awake craniotomy, and adjuvant planning with tumor boards.</p>
          </div>
          <div class="card">
            <h3>Spine Surgery</h3>
            <p class="muted">Disc herniation, spinal stenosis, and fusion procedures with minimally invasive techniques.</p>
          </div>
          <div class="card">
            <h3>Neurotrauma</h3>
            <p class="muted">Emergency management of TBI, intracranial hemorrhage, and complex cranial trauma.</p>
          </div>
          <div class="card">
            <h3>Functional Neurosurgery</h3>
            <p class="muted">Trigeminal neuralgia, movement disorders, and neuromodulation guidance.</p>
          </div>
          <div class="card">
            <h3>Pediatric Cases</h3>
            <p class="muted">Pediatric brain/spine disorders with family‚Äëcentered care plans.</p>
          </div>
          <div class="card">
            <h3>Second Opinions</h3>
            <p class="muted">Transparent review of imaging and reports for informed decisions.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="experience" class="reveal">
      <div class="container">
        <h2 class="section-title">Experience</h2>
        <div class="timeline">
          <div class="t-item">
            <strong>Consultant Neurosurgeon</strong> ‚Äî City Care Hospital
            <div class="muted">2023 ‚Äì Present</div>
            <p class="muted">Leading complex cranial and spine surgeries; implemented enhanced recovery protocols.</p>
          </div>
          <div class="t-item">
            <strong>Senior Resident (Neurosurgery)</strong> ‚Äî Metro Medical Center
            <div class="muted">2021 ‚Äì 2023</div>
            <p class="muted">Managed neurotrauma unit and advanced intra‚Äëop neuromonitoring workflows.</p>
          </div>
          <div class="t-item">
            <strong>Resident (General Medicine)</strong> ‚Äî Teaching Hospital
            <div class="muted">2019 ‚Äì 2021</div>
            <p class="muted">Core rotations in ICU and neurology; authored clinical audits on post‚Äëop outcomes.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="testimonials" class="reveal">
      <div class="container">
        <h2 class="section-title">Patient Testimonials</h2>
        <div class="testimonial-wrap">
          <div id="tContent" class="testimonial" role="region" aria-live="polite" aria-atomic="true">
            <!-- Filled by JS -->
          </div>
          <div class="t-controls">
            <button id="prevTestimonial" type="button" aria-label="Previous testimonial">‚ü® Prev</button>
            <button id="nextTestimonial" type="button" aria-label="Next testimonial">Next ‚ü©</button>
            <span class="muted" id="tIndex" aria-hidden="true"></span>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="reveal">
      <div class="container">
        <h2 class="section-title">Contact & Appointments</h2>
        <p class="muted">For emergencies, please call local emergency services. For appointments and general queries, use the form below.</p>
        <form id="contactForm" novalidate>
          <div>
            <label for="name">Your name</label>
            <input id="name" name="name" placeholder="Jane Doe" autocomplete="name" required />
          </div>
          <div>
            <label for="phone">Phone</label>
            <input id="phone" name="phone" placeholder="+1 555 555 5555" autocomplete="tel" />
          </div>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" autocomplete="email" required />
          </div>
          <div>
            <label for="subject">Subject</label>
            <input id="subject" name="subject" placeholder="Appointment request" required />
          </div>
          <div>
            <label for="date">Preferred date</label>
            <input id="date" name="date" type="date" />
          </div>
          <div>
            <label for="time">Preferred time</label>
            <input id="time" name="time" type="time" />
          </div>
          <div>
            <label for="service">Service</label>
            <input id="service" name="service" placeholder="e.g., Second opinion, Spine consult" />
          </div>
          <div>
            <label for="clinic">Clinic location</label>
            <input id="clinic" name="clinic" placeholder="City Care Hospital" />
          </div>
          <div style="grid-column: 1/-1;">
            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Briefly describe your concerns..." required></textarea>
          </div>
          <div class="form-actions">
            <button class="btn" type="submit">Compose Email</button>
            <a class="btn outline" href="mailto:dr.sparsh@example.com" aria-label="Email clinic">dr.sparsh@example.com</a>
            <a class="btn outline" href="tel:+1-000-000-0000" aria-label="Call clinic">+1‚Äë000‚Äë000‚Äë0000</a>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-inner">
      <div class="muted">
        ¬© <span id="year"></span> Sparsh Gupta. All rights reserved.
      </div>
      <div class="foot-nav">
        <a href="#about">Overview</a>
        <a href="#expertise">Services</a>
        <a href="#experience">Experience</a>
        <a href="#testimonials">Testimonials</a>
        <button class="icon-btn" id="toTopBtn" type="button" aria-label="Back to top">‚Üë Top</button>
      </div>
    </div>
  </footer>

  <script>
    // Preferences
    (function initThemeAndAccent(){
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('theme');
      const savedAccent = localStorage.getItem('accent') || 'violet-cyan-amber';
      document.documentElement.setAttribute('data-accent', savedAccent);
      const theme = savedTheme || (prefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
      document.getElementById('themeBtn').textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    })();

    // Accent palette cycling
    (function(){
      const palettes = ['violet-cyan-amber','blue-fuchsia-lime','cyan-indigo-rose','amber-teal-violet','pink-sky-emerald'];
      document.getElementById('accentBtn').addEventListener('click', () => {
        const cur = document.documentElement.getAttribute('data-accent') || palettes[0];
        const idx = palettes.indexOf(cur);
        const next = palettes[(idx + 1) % palettes.length];
        document.documentElement.setAttribute('data-accent', next);
        localStorage.setItem('accent', next);
        // Flash subtle feedback
        document.body.animate([{ filter: 'saturate(140%)' }, { filter: 'saturate(100%)' }], { duration: 400, easing: 'ease-out' });
      });
    })();

    // Theme toggle
    document.getElementById('themeBtn').addEventListener('click', () => {
      const cur = document.documentElement.getAttribute('data-theme') || 'light';
      const next = cur === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      document.getElementById('themeBtn').textContent = next === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    });

    // Mobile menu
    (function(){
      const btn = document.getElementById('menuBtn');
      const menu = document.getElementById('mobileMenu');
      const toggle = () => {
        const open = menu.style.display === 'block';
        menu.style.display = open ? 'none' : 'block';
        btn.setAttribute('aria-expanded', String(!open));
      };
      btn.addEventListener('click', toggle);
      menu.addEventListener('click', e => { if (e.target.tagName === 'A') toggle(); });
      document.addEventListener('keydown', e => { if (e.key === 'Escape') { menu.style.display = 'none'; btn.setAttribute('aria-expanded','false'); }});
    })();

    // Reveal on scroll
    (function(){
      const io = new IntersectionObserver((entries) => {
        for (const entry of entries) {
          if (entry.isIntersecting) entry.target.classList.add('reveal-visible');
        }
      }, { rootMargin: '0px 0px -10% 0px', threshold: 0.1 });
      document.querySelectorAll('.reveal').forEach(el => io.observe(el));
    })();

    // Testimonials
    (function(){
      const testimonials = [
        { text: "Dr. Gupta explained everything clearly and my recovery was faster than I imagined.", author: "A.K., Spine Surgery" },
        { text: "Expert hands and a kind heart. Forever grateful to the whole team.", author: "M.S., Brain Tumor Resection" },
        { text: "From first consult to follow‚Äëup, the care was exceptional.", author: "R.P., Neurotrauma" }
      ];
      let i = 0;
      const tContent = document.getElementById('tContent');
      const tIndex = document.getElementById('tIndex');
      const render = () => {
        const t = testimonials[i];
        tContent.innerHTML = `
          <p style="font-size:18px; font-weight:700;">‚Äú${t.text}‚Äù</p>
          <p class="muted">‚Äî ${t.author}</p>
        `;
        tIndex.textContent = `${i + 1} / ${testimonials.length}`;
      };
      document.getElementById('prevTestimonial').addEventListener('click', () => { i = (i - 1 + testimonials.length) % testimonials.length; render(); });
      document.getElementById('nextTestimonial').addEventListener('click', () => { i = (i + 1) % testimonials.length; render(); });
      render();
      setInterval(() => { i = (i + 1) % testimonials.length; render(); }, 6000);
    })();

    // Contact form -> mailto
    document.getElementById('contactForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const fd = new FormData(e.target);
      const name = fd.get('name') || '';
      const email = fd.get('email') || '';
      const phone = fd.get('phone') || '';
      const subject = fd.get('subject') || 'Appointment request';
      const date = fd.get('date') || '';
      const time = fd.get('time') || '';
      const service = fd.get('service') || '';
      const clinic = fd.get('clinic') || '';
      const message = fd.get('message') || '';

      const lines = [
        `Name: ${name}`,
        `Email: ${email}`,
        `Phone: ${phone}`,
        `Preferred: ${date || '‚Äî'} ${time || ''}`,
        `Service: ${service || '‚Äî'}`,
        `Clinic: ${clinic || '‚Äî'}`,
        '',
        'Message:',
        message
      ];
      const body = encodeURIComponent(lines.join('\n'));
      const mailto = `mailto:dr.sparsh@example.com?subject=${encodeURIComponent(subject)}&body=${body}`;
      window.location.href = mailto;
    });

    // vCard download
    document.getElementById('vcardBtn').addEventListener('click', () => {
      const vcf = [
        'BEGIN:VCARD',
        'VERSION:3.0',
        'N:Gupta;Sparsh;;;',
        'FN:Dr. Sparsh Gupta',
        'TITLE:Neurosurgeon, MD (Medicine)',
        'ORG:City Care Hospital',
        'EMAIL;TYPE=INTERNET,PREF:dr.sparsh@example.com',
        'TEL;TYPE=WORK,VOICE:+1-000-000-0000',
        'URL:https://example.com/',
        'NOTE:Neurosurgeon with 5 years of clinical experience.',
        'END:VCARD'
      ].join('\n');
      const blob = new Blob([vcf], { type: 'text/vcard' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'dr-sparsh-gupta.vcf';
      a.click();
      URL.revokeObjectURL(a.href);
    });

    // Print
    document.getElementById('printBtn').addEventListener('click', () => window.print());

    // Back to top
    document.getElementById('toTopBtn').addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Basic keyboard focus outlines for links and buttons
    document.querySelectorAll('a, button, input, textarea').forEach(el => {
      el.addEventListener('focus', () => el.style.outline = `3px solid ${getComputedStyle(document.documentElement).getPropertyValue('--g2')}`);
      el.addEventListener('blur', () => el.style.outline = 'none');
    });
  </script>

  <!-- JSON-LD: Physician Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Physician",
    "name": "Dr. Sparsh Gupta",
    "description": "Neurosurgeon with 5 years of clinical experience in brain and spine surgery, including minimally invasive techniques and neuro-oncology.",
    "medicalSpecialty": ["Neurosurgery", "General Medicine"],
    "telephone": "+1-000-000-0000",
    "email": "dr.sparsh@example.com",
    "url": "https://example.com/",
    "sameAs": [],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Your City",
      "addressRegion": "Your State",
      "addressCountry": "Your Country"
    }
  }
  </script>
</body>
</html>